{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "runDevelopment",
      "dependsOrder": "parallel",
      "dependsOn": ["api", "frontend"],
      "detail": "Run both frontend and backend together for local development",
      "problemMatcher": []
    },
    {
      "label": "api",
      "type": "shell",
      "command": "npm run dev:api",
      "presentation": {
        "group": "cloud",
        "panel": "shared"
      },
      "icon": {
        "id": "server"
      },
      "isBackground": true,
      "detail": "The Backend API server",
      "problemMatcher": [],
      "runOptions": {},
      "options": { "env": { "PORT": "3001" } }
    },
    {
      "label": "frontend",
      "type": "shell",
      "command": "npm run dev",
      "presentation": {
        "group": "cloud",
        "panel": "shared"
      },
      "icon": {
        "id": "browser"
      },
      "isBackground": true,
      "detail": "The Frontend UI server",
      "problemMatcher": []
    },
    {
      "label": "db-gui",
      "type": "shell",
      "command": "npm run -w api db:studio",
      "icon": {
        "id": "database"
      },
      "isBackground": true,
      "detail": "A friendly GUI for exploring the database (Drizzle Studio)",
      "problemMatcher": []
    },
    {
      "label": "webhook",
      "type": "shell",
      "command": "bash -c \"while true; do lt -p 3001 -s sweet-poems-cover --print-requests; sleep 1; done\"",
      "presentation": {
        "panel": "dedicated"
      },
      "icon": {
        "id": "log-in"
      },
      "isBackground": true,
      "detail": "Exposes api to web, mainly as a webhook for localhost dev, to receive user account link events from OIDC providers",
      "problemMatcher": []
    }
  ]
}
